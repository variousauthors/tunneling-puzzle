title Tunneling
author various authors
homepage www.puzzlescript.net
zoomscreen 18x9

========
OBJECTS
========

Background 
GREEN  

Target 
DarkBlue    

Wall 
BROWN

Player (camera)
TRANSPARENT

Engineer
blue

Robot
red

Controls
orange

Controller
TRANSPARENT

Source
grey blue
00000
00000
00100
00000
00000

US
grey blue
..1..
..1..
..1..
.....
.....

DS
grey blue
.....
.....
..1..
..1..
..1..

LS
grey blue
.....
.....
111..
.....
.....

RS
grey blue
.....
.....
..111
.....
.....

=======
LEGEND
=======

. = Background
# = Wall
A = Robot
O = Target
S = Source
c = Controls

Overlays = DS or US or LS or RS
Pushable = Source
Pusher = Player or Robot
Subject = Engineer or Robot

Camera = Player
Start = Player and Engineer
P = Start

=======
SOUNDS
=======

================
COLLISIONLAYERS
================

Background
Target, Controls
Engineer, Wall, Source, Robot
US, Controller
DS
LS
RS
Player

======
RULES     
======     

( the player pilotes the engineer )
[> Player] [Engineer] -> [> Player] [> Engineer]

( the engineer can activate and deactivate the robot )
[action Player Engineer Controls] [Robot] -> [Engineer Controls] [Player Robot]
[action Player Robot] [Engineer] -> [Robot] [Player Engineer]

( the engineer pilotes the robot )
[ > Engineer ][ > Player Robot ] -> [ Engineer ][ > Player > Robot ]

( pushers push pushable things )
[ > Pusher | Pushable ] -> [  >  Pusher | > Pushable  ]

( clear the overlays )
[ Overlays ] -> []

( render overlays )

( adjacent sources transfer power )
late right [ Source | Source ] -> [ Source RS | Source LS ]
late down [ Source | Source ] -> [ Source DS | Source US ]

( power transfers through walls )
late right [ Source | Wall | Source ] -> [ Source RS | Wall RS LS | Source LS ]
late down [ Source | Wall | Source ] -> [ Source DS | Wall DS US | Source US ]

==============
WINCONDITIONS
==============


=======     
LEVELS
=======

##############
#............#
#.##########.#
#.#.S.S....#.#
#.#.A...O..#.#
#.#...S.S..#.#
#.##########.#
#.....#.C....#
#............#
#..S..P..S...#
#............#
#............#
##############
